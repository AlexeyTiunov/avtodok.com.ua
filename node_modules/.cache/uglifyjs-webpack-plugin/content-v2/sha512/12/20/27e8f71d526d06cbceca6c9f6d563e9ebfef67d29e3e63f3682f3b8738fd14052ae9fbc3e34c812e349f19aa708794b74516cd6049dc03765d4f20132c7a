{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{780:function(e,t,n){var a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};Object.defineProperty(t,\"__esModule\",{value:!0}),t.Register_need=t.Auth_need=t.Auth_done=t.Auth=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function e(t,n,a){null===t&&(t=Function.prototype);var l=Object.getOwnPropertyDescriptor(t,n);if(void 0===l){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if(\"value\"in l)return l.value;var r=l.get;return void 0!==r?r.call(a):void 0},r=n(47),c=n(64);function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==(void 0===t?\"undefined\":a(t))&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+(void 0===t?\"undefined\":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(36);var m=n(3),d=(t.Auth=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state.renderIn=\"\",n.state.isAuthed=!1,n}return u(t,r.Extends),l(t,[{key:\"auth\",value:function(e){var t=this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/auth.php\",e),n=function(e){if(Number(e)>0)this.auth_done();else{var t=this.getUserLoginCookie();\"\"==t||void 0==t?this.auth_registerNeed():this.auth_authNeed()}this.updateRegions()}.bind(this);t.then(n)}},{key:\"auth_authNeed\",value:function(){var e=m.createElement(h,null);isAuthed=!1;var t=this.updateAll.bind(this);this.setState({renderIn:m.createElement(e.type),isAuthed:isAuthed},t)}},{key:\"auth_registerNeed\",value:function(){var e=m.createElement(p,null);isAuthed=!1;var t=this.updateAll.bind(this);this.setState({renderIn:m.createElement(e.type),isAuthed:isAuthed},t)}},{key:\"auth_done\",value:function(){authComp=m.createElement(d,null),isAuthed=!0;var e=this.updateAll.bind(this);this.setState({renderIn:m.createElement(authComp.type),isAuthed:isAuthed},e)}},{key:\"autoAuth\",value:function(){this.auth(\"AUTO_AUTH=Y&CHECK_AUTH=Y\")}},{key:\"isAuthed\",value:function(){this.auth(\"CHECK_AUTH=Y\")}},{key:\"logOut\",value:function(){this.auth(\"LOG_OUT=Y\")}},{key:\"componentDidMount\",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"componentDidMount\",this).call(this),this.autoAuth()}},{key:\"render\",value:function(){return m.createElement(\"div\",{id:\"modal-user-auth\",className:\"modal fade\",role:\"dialog\"},this.state.renderIn)}}]),t}(),t.Auth_done=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.logOut=n.logOut.bind(n),n}return u(t,r.Extends),l(t,[{key:\"logOut\",value:function(){Uobject=window.objectReg.Auth,Uobject.auth(\"LOG_OUT=Y\")}},{key:\"componentDidMount\",value:function(){}},{key:\"render\",value:function(){return m.createElement(\"div\",{className:\"modal-dialog\"},m.createElement(\"div\",{className:\"modal-content\"},m.createElement(\"div\",{className:\"modal-header text-center\"},m.createElement(\"h2\",{className:\"modal-title\"},m.createElement(\"i\",{className:\"fa fa-pencil\"}),m.createElement(\"font\",null,m.createElement(\"font\",null,\" Авторизація\")))),m.createElement(\"div\",{className:\"modal-body\"},m.createElement(\"fieldset\",null,m.createElement(\"legend\",null,m.createElement(\"font\",null,m.createElement(\"font\",null,\"Авторизація виконано успішно!\")))),m.createElement(\"div\",{className:\"form-group form-actions\"},m.createElement(\"div\",{className:\"col-xs-12 text-right\"},m.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-default\",\"data-dismiss\":\"modal\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Продовжити роботу\"))),m.createElement(\"button\",{type:\"button\",onClick:this.logOut,className:\"btn btn-sm btn-primary\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Вийти з акаунту\")))))),m.createElement(\"div\",{className:\"modal-footer\"})))}}]),t}()),h=t.Auth_need=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=n.onInputChange.bind(n),n.state.USER_LOGIN=\"\",n.state.USER_PASSWORD=\"\",n.state.regStatus=\"Авторизація\",n.auth=n.auth.bind(n),n.onInputChange=n.onInputChange.bind(n),n}return u(t,r.Extends),l(t,[{key:\"auth\",value:function(){Uobject=window.objectReg.Auth,Uobject.auth(\"USER_LOGIN=\"+this.state.USER_LOGIN+\"&USER_PASSWORD=\"+this.state.USER_PASSWORD+\"&CHECK_AUTH=Y\")}},{key:\"registerNeed\",value:function(){Uobject=window.objectReg.Auth,Uobject.auth_registerNeed()}},{key:\"onInputChange\",value:function(e){var t=e.target.name,n=e.target.id,a=e.target.value;this.state[t]=a,this.state[n]=a,\"\"==this.state[t]&&delete this.state[t];this.setState({str:a})}},{key:\"componentDidUpdate\",value:function(){}},{key:\"componentDidMount\",value:function(){}},{key:\"render\",value:function(){return m.createElement(\"div\",{className:\"modal-dialog\"},m.createElement(\"div\",{className:\"modal-content\"},m.createElement(\"div\",{className:\"modal-header text-center\"},m.createElement(\"h2\",{className:\"modal-title\"},m.createElement(\"i\",{className:\"fa fa-pencil\"}),m.createElement(\"font\",null,m.createElement(\"font\",null,\" Авторизація\")))),m.createElement(\"div\",{className:\"modal-body\"},m.createElement(\"form\",{action:\"index.html\",method:\"post\",enctype:\"multipart/form-data\",className:\"form-horizontal form-bordered\",onsubmit:\"return false;\"},m.createElement(\"fieldset\",null,m.createElement(\"legend\",null,m.createElement(\"div\",{className:\"row\"},m.createElement(\"div\",{className:\"col-xs-6\"},m.createElement(\"p\",{align:\"center\"},m.createElement(\"font\",null,this.state.regStatus))),m.createElement(\"div\",{className:\"col-xs-6\"},m.createElement(\"p\",{align:\"center\"},m.createElement(\"font\",null,m.createElement(\"a\",{onClick:this.registerNeed},\"В мене немає логіна.\")))))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-4 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Логин\"))),m.createElement(\"div\",{className:\"col-md-8\"},m.createElement(\"input\",{type:\"text\",onChange:this.onInputChange,id:\"user-settings-login\",name:\"USER_LOGIN\",className:\"form-control\",placeholder:\"Введіть Ваш логин...\"}))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-4 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Ваш пароль\"))),m.createElement(\"div\",{className:\"col-md-8\"},m.createElement(\"input\",{type:\"password\",onChange:this.onInputChange,id:\"user-settings-password\",name:\"USER_PASSWORD\",className:\"form-control\",placeholder:\"Введіть Ваш новий пароль...\"})))),m.createElement(\"div\",{className:\"form-group form-actions\"},m.createElement(\"div\",{className:\"col-xs-12 text-right\"},m.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-default\",\"data-dismiss\":\"modal\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Відміна\"))),m.createElement(\"button\",{type:\"button\",onClick:this.auth,className:\"btn btn-sm btn-primary\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Авторизация\")))))))))}}]),t}(),p=t.Register_need=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=n.onInputChange.bind(n),n.state.capture_sid=\"\",n.state.regStatus=\"Регістрація\",n.getRegister=n.getRegister.bind(n),n.authNeed=n.authNeed.bind(n),n.regStatusInfo={IncorrectPassword:[\"\",\"\"],IncorrectLogin:[\"\",\"\"],Success:[\"\"],UserID:[\"\"]},n}return u(t,r.Extends),l(t,[{key:\"checkAuth\",value:function(){Uobject=window.objectReg.Auth,Uobject.isAuthed()}},{key:\"authNeed\",value:function(){Uobject=window.objectReg.Auth,Uobject.auth_authNeed()}},{key:\"getRegister\",value:function(){var e=this.makeRequestToRecieveData(\"POST\",\"/ws/register.php\",!1,this.makePostDataFromState()),t=function(e){handleAnswer=new c.handleData(e);handleAnswer.mapArray.IncorrectPassword,handleAnswer.mapArray.IncorrectLogin;var t=handleAnswer.mapArray.UserID;Number(t)>0?this.checkAuth():this.getCaptureSid()};t=t.bind(this),e.then(t)}},{key:\"getCaptureSid\",value:function(){var e=this.makeRequestToRecieveData(\"POST\",\"/ws/register.php\",!1,\"getCaptchaSid=Y\"),t=function(e){this.setState({capture_sid:e})};t=t.bind(this),e.then(t)}},{key:\"onInputChange\",value:function(e){\"LOGIN\"==e.target.name&&this.checkInput(e);var t=e.target.name,n=e.target.id,a=e.target.value;this.state[t]=a,this.state[n]=a,\"\"==this.state[t]&&delete this.state[t];this.setState({str:a})}},{key:\"checkInput\",value:function(e){var t=e.target.value;if(\"\"!=t){if(t.match(/^.*[\\+\\-\\D]+/))return phoneMod=t.replace(/[\\+\\-\\D]/g,\"\"),void(e.target.value=phoneMod);t.match(/^(38)([0-9]*)/g)||t.match(/^(3)([0-9]*)/g)||(phoneMod=\"38\"+t,phoneMod=phoneMod.replace(/[\\+\\-\\D]+/g,\"\"),e.target.value=phoneMod)}(t.match(/^(39)([0-9]*)/g)||t.match(/^(37)([0-9]*)/g)||t.match(/^(34)([0-9]*)/g)||t.match(/^(35)([0-9]*)/g)||t.match(/^(36)([0-9]*)/g))&&(shortFoneNumber=t.replace(/^(38|39|36|35|34|37)([0-9]*)/g,\"38$2\"),shortFoneNumber=shortFoneNumber.replace(/[\\+\\-\\D]+/g,\"\"),e.target.value=shortFoneNumber)}},{key:\"componentDidMount\",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"componentDidMount\",this).call(this),this.getCaptureSid()}},{key:\"render\",value:function(){return m.createElement(\"div\",{className:\"modal-dialog\"},m.createElement(\"div\",{className:\"modal-content\"},m.createElement(\"div\",{className:\"modal-header text-center\"},m.createElement(\"h2\",{className:\"modal-title\"},m.createElement(\"i\",{className:\"fa fa-pencil\"}),m.createElement(\"font\",null,m.createElement(\"font\",null,\" Регістрація\")))),m.createElement(\"div\",{className:\"modal-body\"},m.createElement(\"form\",{action:\"index.html\",method:\"post\",enctype:\"multipart/form-data\",className:\"form-horizontal form-bordered\",onsubmit:\"return false;\"},m.createElement(\"fieldset\",null,m.createElement(\"legend\",null,m.createElement(\"div\",{className:\"row\"},m.createElement(\"div\",{className:\"col-xs-6\"},m.createElement(\"p\",{align:\"center\"},m.createElement(\"font\",null,this.state.regStatus))),m.createElement(\"div\",{className:\"col-xs-6\"},m.createElement(\"p\",{align:\"center\"},m.createElement(\"font\",null,m.createElement(\"a\",{onClick:this.authNeed},\"В мене вже є логін.\")))))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-4 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Логін(моб. номер)\"))),m.createElement(\"div\",{className:\"col-md-8\"},m.createElement(\"input\",{type:\"text\",onChange:this.onInputChange,id:\"login\",name:\"LOGIN\",className:\"form-control\",placeholder:\"Введіть Ваш логин...\"}))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-4 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Новий пароль\"))),m.createElement(\"div\",{className:\"col-md-8\"},m.createElement(\"input\",{type:\"password\",onChange:this.onInputChange,id:\"password\",name:\"PASSWORD\",className:\"form-control\",placeholder:\"Введіть Ваш новий пароль...\"}))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-4 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Підтвердження паролю\"))),m.createElement(\"div\",{className:\"col-md-8\"},m.createElement(\"input\",{type:\"password\",onChange:this.onInputChange,id:\"password_confirm\",name:\"PASSWORD_CONFIRM\",className:\"form-control\",placeholder:\"Введіть Ваш новий пароль...\"}))),m.createElement(\"div\",{className:\"form-group\"},m.createElement(\"label\",{className:\"col-md-2 control-label\",for:\"user-settings-password\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Введіть слово\"))),m.createElement(\"div\",{className:\"col-md-4\"},m.createElement(\"input\",{type:\"text\",onChange:this.onInputChange,id:\"captcha_word\",name:\"CAPTCHA_WORD\",className:\"form-control\",placeholder:\"Введіть слово...\"})),m.createElement(\"div\",{className:\"col-md-4 control-label\"},m.createElement(\"img\",{src:\"/bitrix/tools/captcha.php?captcha_sid=\"+this.state.capture_sid})))),m.createElement(\"div\",{className:\"form-group form-actions\"},m.createElement(\"div\",{className:\"col-xs-12 text-right\"},m.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-default\",\"data-dismiss\":\"modal\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Відміна\"))),m.createElement(\"button\",{type:\"button\",onClick:this.getRegister,className:\"btn btn-sm btn-primary\"},m.createElement(\"font\",null,m.createElement(\"font\",null,\"Регістрація\")))))))))}}]),t}()}}]);","extractedComments":[]}
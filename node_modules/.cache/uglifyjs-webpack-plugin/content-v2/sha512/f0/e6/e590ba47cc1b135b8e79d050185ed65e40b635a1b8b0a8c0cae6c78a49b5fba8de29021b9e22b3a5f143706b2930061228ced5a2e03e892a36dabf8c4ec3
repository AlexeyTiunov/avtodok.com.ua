{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{796:function(t,e,n){var a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};Object.defineProperty(e,\"__esModule\",{value:!0}),e.Action_td=e.Action_td_old=e.Status_td=e.Quantity_td=e.Common_td=e.Name_td=e.Orderid_td=e.Order_list=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function t(e,n,a){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,a)}if(\"value\"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0},s=n(63),o=n(47),u=n(64),l=(n(112),n(65)),c=n(778);function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function d(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==(void 0===e?\"undefined\":a(e))&&\"function\"!=typeof e?t:e}function m(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+(void 0===e?\"undefined\":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n(36);var p=n(3);var f=p.createContext(\"value\"),g={},y={},T=(e.Order_list=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state.mapArray=[],n}return m(e,o.Extends),r(e,[{key:\"getOrderListData\",value:function(){var t=this.findMySelf(this.constructor.name);this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/order_list.php\",this.makePostDataFromState()).then(function(e){try{handleDT=new u.handleData(e,function(){dataConvert=new u.handleData(null,null);var t=dataConvert.formatNumber,e=(dataConvert.addSuffix,dataConvert.defineColumnName),n=dataConvert.defineColumnClass,a=dataConvert.defineTd,r=dataConvert.parceDate;return{ID:{functions:{},params:[]},ORDER_ID:{functions:{defineColumnName:e,defineTd:a},params:[\"Зам-ня\",p.createElement(T,null)]},DATE_INSERT:{functions:{parceDate:r,defineColumnClass:n,defineColumnName:e,defineTd:a},params:[\"\",\"hidden-xs\",\"Дата\",p.createElement(E,null)]},BRAND:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Бренд\",\"hidden-xs\",p.createElement(E,null)]},REGIONCODE:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Регион\",\"hidden-xs hidden-sm hidden-md\",p.createElement(E,null)]},ARTICLE:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Номер\",\"hidden-xs hidden-sm hidden-md\",p.createElement(E,null)]},NAME:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Найм-ня\",\"\",p.createElement(v,null)]},QUANTITY:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Количество\",\"hidden-xs\",p.createElement(E,null)]},PRICE:{functions:{formatNumber:t,defineColumnName:e,defineColumnClass:n,defineTd:a},params:[[\".\",\"2\"],\"Ціна\",\"hidden-xs\",p.createElement(E,null)]},ORDER_PRICE:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Сума\",\"hidden-xs\",p.createElement(E,null)]},ITEMSTATUS:{functions:{},params:[]},ITEMSTATUSQUANTITY:{functions:{},params:[]},ITEMSTATUS2:{functions:{},params:[]},ITEMSTATUSQUANTITY2:{functions:{},params:[]},ITEMSTATUSCHANGEQUERY:{functions:{},params:[]},QUANTITYCHANGEQUERY:{functions:{},params:[]},SHIPPING_DOCUMENT:{functions:{},params:[]},ISRETURNABLE:{functions:{},params:[]},DELIVERYMETHODTOUA:{functions:{},params:[]},WAREHOUSEDATE:{functions:{},params:[]},action:{functions:{defineColumnName:e,defineColumnClass:n,defineTd:a},params:[\"Дія\",\" \",p.createElement(S,null)],addNew:!0},state:{functions:{defineColumnName:e,defineTd:a},params:[\"Статус\",p.createElement(C,null)],addNew:!0}}}()),t().setState({mapArray:handleDT.mapArray,shouldComponentUpdate:!0})}catch(t){}})}},{key:\"cleanData\",value:function(){this.setState({mapArray:[],shouldComponentUpdate:!0})}},{key:\"initOrderList\",value:function(){l.App.datatables(),$.fn.dataTable.isDataTable(\"#example-datatable\")||($('[data-toggle=\"tooltip\"]').tooltip(),$(\"#example-datatable\").dataTable({order:[[0,\"desc\"]],aoColumnDefs:[{bSortable:!1,aTargets:[1,5]}],iDisplayLength:10,aLengthMenu:[[10,20,30,-1],[10,20,30,\"Всі\"]]}),$(\".pagination\").on(\"click\",function(){$('[data-toggle=\"tooltip\"]').tooltip()}),$(\".dataTables_filter input\").attr(\"placeholder\",\"Пошук\"))}},{key:\"initToolTip\",value:function(){$('[data-toggle=\"tooltip\"]').tooltip()}},{key:\"shouldComponentUpdate\",value:function(t,e){if(!e.shouldComponentUpdate){var n=function(){this.getOrderListData()};(n=n.bind(this))()}return e.shouldComponentUpdate}},{key:\"componentDidUpdate\",value:function(t,n){for(state in i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidUpdate\",this).call(this,t,n),y)y[state].setState({otherTd:null});for(action in g)g[action].setState({otherTd:null});0!=this.state.mapArray.length&&(this.initOrderList(),this.deActivateProgressBar()),setTimeout(this.initToolTip,5e3)}},{key:\"componentDidMount\",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidMount\",this).call(this),this.setState({shouldComponentUpdate:!1})}},{key:\"render\",value:function(){var t=this.state.mapArray.map(function(t){var e=[];for(th in t)t[th].Name&&e.push(p.createElement(\"th\",{className:t[th].className},t[th].Name));return e})[0],e=p.createElement(\"thead\",null,p.createElement(\"tr\",null,t)),n=0,a=this.state.mapArray.map(function(t){var e=[];for(td in t)e.push(t[td].TD);return e}).map(function(t){return n++,p.createElement(f.Provider,{value:n},p.createElement(\"tr\",{key:n},t),\"  \")});return p.createElement(\"div\",{className:\"block full\"},p.createElement(\"div\",{className:\"block-title\",style:{backgroundColor:\"white\"}},p.createElement(\"div\",{className:\"table-responsive \"},p.createElement(\"table\",{id:\"example-datatable\",className:\"table table-vcenter table-condensed table-bordered table-striped\"},e,p.createElement(\"tbody\",null,a)))))}}]),e}(),e.Orderid_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n.onclick=n.onclick.bind(n),n}return m(e,o.Extends),r(e,[{key:\"onclick\",value:function(){this.activateProgressBar()}},{key:\"render\",value:function(){return p.createElement(\"td\",{className:this.state.proto[this.state.NAME].className+\" text-center\"},p.createElement(s.Link,{onClick:this.onclick,to:\"/order_detail/\"+this.state.proto[this.state.NAME].fValue},this.state.proto[this.state.NAME].fValue),p.createElement(\"br\",null))}}]),e}()),v=e.Name_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n}return m(e,o.Extends),r(e,[{key:\"render\",value:function(){var t=\"\",e=\"\";return window.isMobile&&(t=this.state.proto.ARTICLE.fValue,e=p.createElement(\"br\",null)),p.createElement(\"td\",{className:this.state.proto[this.state.NAME].className+\" text-center\"},t,e,this.state.proto[this.state.NAME].fValue)}}]),e}(),E=e.Common_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n}return m(e,o.Extends),r(e,[{key:\"render\",value:function(){return p.createElement(\"td\",{className:this.state.proto[this.state.NAME].className+\" text-center\"},this.state.proto[this.state.NAME].fValue)}}]),e}(),C=(e.Quantity_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n}return m(e,o.Extends),r(e,[{key:\"render\",value:function(){return p.createElement(\"td\",{className:this.state.proto[this.state.NAME].className+\" text-center\"},this.state.proto[this.state.NAME].fValue)}}]),e}(),e.Status_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n.id=0,n.state.updateFromOtherTD=!1,n.state.otherTd=null,n.imagePath=\"/app/img/order_list/\",n.style={width:\"20px\",height:\"20px\"},n.bClasses=window.configObject.Status_td.bClasses,n.iClasses={2:\"gi gi-remove_2\"},n.statusNames={2:\"Отказ\"},n.touchstart=n.touchstart.bind(n),n}return m(e,o.Extends),r(e,[{key:\"touchstart\",value:function(){alert(\"www\")}},{key:\"getRegTd\",value:function(){return g}},{key:\"getRegTdStatus\",value:function(){return y}},{key:\"defineStatus\",value:function(){var t=this.state.proto.ITEMSTATUS.fValue;this.state.proto.ITEMSTATUS.fValue;if(\"\"==t)return this.getStatusInWork();switch(t=Number(t)){case 0:return this.getStatusInWork();case 1:return this.getStatusPayed();case 2:return this.getStatusDenided();case 3:return this.getStatusInStock();case 4:return this.getStatusShipped();case 5:return this.getStatusOnTheWay();case 7:return this.getStatusDelayed();default:return this.getNullStatus()}}},{key:\"getNullStatus\",value:function(){return p.createElement(\"a\",{href:\"####\"},\"-\")}},{key:\"getStatusInWork\",value:function(){return p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"v_rabote.png\",style:this.style}))}},{key:\"getStatusDelayed\",value:function(){return p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"otlozhen.png\",style:this.style}))}},{key:\"getStatusPayed\",value:function(){return this.updateActionTd(\"getActionWareHouse\"),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"vykuplen.png\",style:this.style}))}},{key:\"getStatusDenided\",value:function(){return this.updateActionTd(\"getNullAction\"),p.createElement(\"a\",{href:\"####\",onTouchStart:this.touchstart},p.createElement(\"img\",{title:\"denided\",src:this.imagePath+\"otkaz.png\",style:this.style}))}},{key:\"getStatusInStock\",value:function(){return this.updateActionTd(\"getNullAction\"),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"sklad.png\",style:this.style}))}},{key:\"getStatusShipped\",value:function(){return this.updateActionTd(\"getNullAction\"),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"otgruzhen.png\",style:this.style}))}},{key:\"getStatusOnTheWay\",value:function(){return this.updateActionTd(\"getActionWareHouse\",\"\"),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"method_sea.png\",style:this.style}))}},{key:\"getStatusUserDenyApproved\",value:function(){return p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{title:\"\",src:this.imagePath+\"user_deny.png\",style:this.style}))}},{key:\"updateActionTd\",value:function(t,e){try{var n=this.getRegTd()[this.id],a=n[t](e);n.setState({updateFromOtherTD:!0,otherTd:a})}catch(t){}}},{key:\"render\",value:function(){var t=null;return t=\"updateFromOtherTD\"in this.state&&this.state.updateFromOtherTD?this.state.otherTd:this.defineStatus(),p.createElement(f.Consumer,null,function(e){return this.id=e,this.getRegTdStatus()[e]=this,p.createElement(\"td\",{className:this.getRangeObjectValue(this.bClasses,this.state.proto.ITEMSTATUS.fValue)},t)}.bind(this))}}]),e}()),S=(e.Action_td_old=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n.state.updateFromOtherTD=!1,n.state.otherTd=null,n.bClasses=window.configObject.Action_td.bClasses,n.style={width:\"20px\",height:\"20px\"},n.iClasses={2:\"gi gi-remove_2\"},n.statusNames={0:\"В работе\",2:\"Отказ\",5:\"В пути\"},n.imagePath=\"/app/img/order_list/\",n.itemStatusChangeQuery=n.itemStatusChangeQuery.bind(n),n}return m(e,o.Extends),r(e,[{key:\"itemStatusChangeQueryOld\",value:function(t){var e=\"BASKET_ID=\"+this.state.proto.ID.fValue+\"&STATUS_CODE=2\",n=this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/ItemStatusChangeQuery.php\",e),a=function(t){try{var e=Number(t);if(!isNaN(e)&&e>0){var n=this.getActionQueryStatusChangeInWait();this.setState({updateFromOtherTD:!0,otherTd:n})}else this.showInforMassage(\"ERROR\",\"Операция не прошла\")}catch(t){this.showInforMassage(\"ERROR\",\"Операция не прошла\")}}.bind(this);n.then(a)}},{key:\"itemStatusChangeQuery\",value:function(t){this.clearInforMassage(),getItemStatusChangeQueryComponent=function(){return c.ItemStatusChange_Query.actionComponent=this,c.ItemStatusChange_Query}.bind(this);var e=getItemStatusChangeQueryComponent();this.showInforMassage(\"Інфо\",p.createElement(e,null))}},{key:\"getRegTd\",value:function(){return g}},{key:\"getRegTdStatus\",value:function(){return y}},{key:\"defineAction\",value:function(){var t=this.state.proto.ITEMSTATUSCHANGEQUERY.fValue;if(\"\"==t)return this.getActionCanQueryStatusChange();if(changeQueryArray=t.split(/#/),2!=changeQueryArray.length)return this.getActionCanQueryStatusChange();var e=changeQueryArray[0],n=changeQueryArray[1];return\"?\"==n?this.getActionQueryStatusChangeInWait():\"X\"==n?this.getActionQueryStatusChangeDined():e==n?this.getActionQueryStatusChangeApproved():this.getNullAction()}},{key:\"getNullAction\",value:function(){return p.createElement(\"a\",{href:\"####\"},\"-\")}},{key:\"getActionCanQueryStatusChange\",value:function(){return p.createElement(\"a\",{href:\"####\",onClick:this.itemStatusChangeQuery},p.createElement(\"img\",{style:this.style,title:\"\",src:this.imagePath+\"user_button_cancel.png\"}))}},{key:\"getActionQueryStatusChangeInWait\",value:function(){return p.createElement(\"a\",null,p.createElement(\"img\",{style:this.style,title:\"\",src:this.imagePath+\"user_deny_wait.png\"}))}},{key:\"getActionQueryStatusChangeDined\",value:function(){return p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{style:this.style,title:\"\",src:this.imagePath+\"v_rabote.png\"}))}},{key:\"getActionQueryStatusChangeApproved\",value:function(){return this.updateStatus(\"getStatusUserDenyApproved\"),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{style:this.style,title:\"\",src:this.imagePath+\"user_deny.png\"}))}},{key:\"getActionWareHouse\",value:function(){var t=this.state.proto.WAREHOUSEDATE.fValue.split(/\\s/),e=\"\";return t instanceof Array&&(e=t[0]),p.createElement(\"a\",{href:\"####\"},p.createElement(\"img\",{style:this.style,\"data-toggle\":\"tooltip\",\"data-placement\":\"top\",\"data-original-title\":e,src:this.imagePath+\"date_come.png\"}))}},{key:\"updateStatus\",value:function(t,e){try{var n=this.getRegTdStatus()[this.id],a=n[t](e);n.setState({updateFromOtherTD:!0,otherTd:a})}catch(t){}}},{key:\"componentWillUnmount\",value:function(){}},{key:\"shouldComponentUpdate\",value:function(t,e){return!(\"updateFromOtherTD\"in e&&e.updateFromOtherTD)||void 0!=e.otherTd&&null!=e.otherTd}},{key:\"componentDidUpdate\",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidUpdate\",this).call(this)}},{key:\"componentDidMount\",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidMount\",this).call(this)}},{key:\"render\",value:function(){var t=null;return t=\"updateFromOtherTD\"in this.state&&this.state.updateFromOtherTD?this.state.otherTd:this.defineAction(),p.createElement(f.Consumer,null,function(e){return this.id=e,this.getRegTd()[e]=this,p.createElement(\"td\",{className:this.getRangeObjectValue(this.bClasses,this.state.proto.ITEMSTATUS.fValue)},t)}.bind(this))}}]),e}(),e.Action_td=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=n.props,n.state.updateFromOtherTD=!1,n.state.otherTd=null,n.bClasses=window.configObject.Action_td.bClasses,n.style={width:\"20px\",height:\"20px\"},n.iClasses={2:\"gi gi-remove_2\"},n.statusNames={0:\"В работе\",2:\"Отказ\",5:\"В пути\"},n.imagePath=\"/app/img/order_list/\",n.itemStatusChangeQuery=n.itemStatusChangeQuery.bind(n),n}return m(e,c.Order_Action),r(e,[{key:\"itemStatusChangeQueryOld\",value:function(t){var e=\"BASKET_ID=\"+this.state.proto.ID.fValue+\"&STATUS_CODE=2\",n=this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/ItemStatusChangeQuery.php\",e),a=function(t){try{var e=Number(t);if(!isNaN(e)&&e>0){var n=this.getActionQueryStatusChangeInWait();this.setState({updateFromOtherTD:!0,otherTd:n})}else this.showInforMassage(\"ERROR\",\"Операция не прошла\")}catch(t){this.showInforMassage(\"ERROR\",\"Операция не прошла\")}}.bind(this);n.then(a)}},{key:\"itemStatusChangeQuery\",value:function(t){this.clearInforMassage(),getItemStatusChangeQueryComponent=function(){return c.ItemStatusChange_Query.actionComponent=this,c.ItemStatusChange_Query}.bind(this);var e=getItemStatusChangeQueryComponent();this.showInforMassage(\"Інфо\",p.createElement(e,null))}},{key:\"getRegTd\",value:function(){return g}},{key:\"getRegTdStatus\",value:function(){return y}},{key:\"defineAction\",value:function(){var t=this.state.proto.ITEMSTATUSCHANGEQUERY.fValue;if(\"\"==t)return this.getActionCanQueryStatusChange();if(changeQueryArray=t.split(/#/),2!=changeQueryArray.length)return this.getActionCanQueryStatusChange();var e=changeQueryArray[0],n=changeQueryArray[1];return\"?\"==n?this.getActionQueryStatusChangeInWait():\"X\"==n?this.getActionQueryStatusChangeDined():e==n?this.getActionQueryStatusChangeApproved():this.getNullAction()}},{key:\"componentWillUnmount\",value:function(){}},{key:\"shouldComponentUpdate\",value:function(t,e){return!(\"updateFromOtherTD\"in e&&e.updateFromOtherTD)||void 0!=e.otherTd&&null!=e.otherTd}},{key:\"componentDidUpdate\",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidUpdate\",this).call(this)}},{key:\"componentDidMount\",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"componentDidMount\",this).call(this)}},{key:\"render\",value:function(){var t=null;return t=\"updateFromOtherTD\"in this.state&&this.state.updateFromOtherTD?this.state.otherTd:this.defineAction(),p.createElement(f.Consumer,null,function(e){return this.id=e,this.getRegTd()[e]=this,p.createElement(\"td\",{className:this.getRangeObjectValue(this.bClasses,this.state.proto.ITEMSTATUS.fValue)},t)}.bind(this))}}]),e}())}}]);","extractedComments":[]}
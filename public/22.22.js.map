{"version":3,"sources":["webpack:///./app/order_action_status.js"],"names":["ReactDOM","require","React","Order_Action","dateArr","date","funcName","value","statusTd","dataForStatus","updateFromOtherTD","otherTd","Extends","ItemStatusChange_Query","e","basketId","data","Prom","updateIcon","answer","Number","isNaN","inWait","justUpdate","thisElement","buttons","queryText"],"mappings":"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","file":"22.22.js","sourcesContent":["var ReactDOM = require('react-dom');\r\nvar React = require('react'); \r\nimport {Link, BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport {Extends} from './main_component.js';\r\nimport {handleData} from './data_convert.js'\r\n\r\n\r\nexport class Order_Action extends Extends\r\n\r\n{\r\n\t  constructor(props)\r\n    {\r\n        super(props);\r\n\t}\r\n\tgetNullAction()\r\n\t {\r\n\t\t return (<a href='####'>-</a>);\r\n\t }\r\n\t getActionCanQueryStatusChange()\r\n\t {\r\n\t\t return ( <a href='####'  onClick={this.itemStatusChangeQuery}>\r\n\t\t   <img style={this.style} title='' src={this.imagePath+\"user_button_cancel.png\"} />\r\n\t\t </a>)\r\n\t }\r\n\t \r\n\t getActionQueryStatusChangeInWait()\r\n\t {\r\n\t\t return ( <a >\r\n\t\t   <img  style={this.style} title='' src={this.imagePath+\"user_deny_wait.png\"} />\r\n\t\t </a>)\r\n\t }\r\n\t getActionQueryStatusChangeDined()\r\n\t {\r\n\t\t return ( <a href='####'>\r\n\t\t   <img style={this.style} title='' src={this.imagePath+\"v_rabote.png\"} />\r\n\t\t </a>)\r\n\t }\r\n\t  getActionQueryStatusChangeApproved()\r\n\t  {\r\n\t\t  this.updateStatus(\"getStatusUserDenyApproved\");\r\n\t\t return ( <a href='####'>\r\n\t\t   <img style={this.style} title='' src={this.imagePath+\"user_deny.png\"} />\r\n\t\t </a>)\r\n\t  }\r\n      getActionWareHouse()\r\n\t  {\r\n\t\t  var dateArr=this.state.proto.WAREHOUSEDATE.fValue.split(/\\s/);\r\n\t\t  var date=\"\";\r\n\t\t  if (dateArr instanceof Array) \r\n\t\t  {\r\n\t\t\t  date=dateArr[0];\r\n\t\t  }\r\n\t\t  return ( <a href='####'>\r\n\t\t   <img style={this.style}  data-toggle=\"tooltip\" data-placement=\"top\" data-original-title={date} src={this.imagePath+\"date_come.png\"} />\r\n\t\t </a>)\r\n\t  }\r\n\t  updateStatus(funcName,value)\r\n\t  {\r\n\t\t  try{\r\n\t\t    var statusTd=this.getRegTdStatus()[this.id];\r\n\t        var dataForStatus=statusTd[funcName](value);\r\n\t\t   statusTd.setState({updateFromOtherTD:true,otherTd:dataForStatus})\r\n\t\t   }catch(e)\r\n\t\t {\r\n\t\t\t \r\n\t\t }\r\n\t\t  \r\n\t  }\r\n\t\r\n}\r\n\r\nexport class ItemStatusChange_Query extends Extends\r\n{\r\n\t constructor(props)\r\n\t {\r\n\t\t super(props);\r\n\t\t this.actionComponent=this.constructor.actionComponent;\r\n\t\t this.itemStatusChangeQuery=this.itemStatusChangeQuery.bind(this);\r\n\t\t this.answerState=false;\r\n\t\t this.queryText=\"Чи відправити запит на відмову від позиції?\";\r\n\t\t this.unMount=this.unMount.bind(this);\r\n\t\t \r\n\t }\r\n\t itemStatusChangeQuery(e)\r\n\t {\r\n\t\t // /ws/ItemStatusChangeQuery.php\r\n\t\t var basketId=this.actionComponent.state.proto.ID.fValue;\r\n\t\t var data =\"BASKET_ID=\"+basketId+\"&STATUS_CODE=2\";\r\n\t\t var Prom=this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/ItemStatusChangeQuery.php\",data);\r\n\t\t \r\n\t\t var updateIcon=function(responseText)\r\n\t\t    {\r\n\t\t\t  try\r\n\t\t\t  {\r\n\t\t\t\t  var answer= Number(responseText);\r\n\t\t\t\t  if (!isNaN(answer) && answer>0)\r\n\t\t\t\t  {\r\n\t\t\t\t\t var inWait= this.actionComponent.getActionQueryStatusChangeInWait();\r\n\t\t\t\t\t this.actionComponent.setState({updateFromOtherTD:true,otherTd:inWait})\r\n\t\t\t\t\t this.queryText=\"Запит відправленно.\";\r\n\t\t\t\t\t \r\n\t\t\t\t  }else{\r\n\t\t\t\t\t this.queryText=\"Запит не відправленно.\";\r\n\t\t\t\t  }\r\n\t\t\t  }catch(e)\r\n\t\t\t  {\r\n\t\t\t\t  this.queryText=\"Запит не відправленно.\";\r\n\t\t\t  }\r\n\t\t\t\tthis.answerState=true;\r\n\t\t\t this.setState({justUpdate:null})\r\n\t\t\t \r\n\t\t    }.bind(this)\r\n\t\t    \r\n\t\t Prom.then(updateIcon)\r\n\t\t  \r\n\t\t  \r\n\t\t \r\n\t\t \r\n\t }\r\n\t unMount(e)\r\n\t {\r\n\t\t var thisElement=ReactDOM.findDOMNode(this);\r\n\t\t ReactDOM.unmountComponentAtNode(thisElement);\r\n\t }\r\n\t /////////////////////////////////////\r\n\t componentDidMount()\r\n\t {\r\n\t\t super.componentDidMount();\r\n\t\t  this.answerState=false;\r\n\t\t this.queryText=\"Чи відправити запит на відмову від позиції?\";\r\n\t\t \r\n\t }\r\n\t componentDidUpdate()\r\n\t {\r\n\t\t super.componentDidUpdate();\r\n\t\t  this.answerState=false;\r\n\t\t this.queryText=\"Чи відправити запит на відмову від позиції?\";\r\n\t }\r\n\t render()\r\n\t {\r\n\t\t \r\n\t\t  \r\n\t\t   var buttons=(\r\n\t\t                 <div className=\"row\"> \r\n\t\t                   \r\n                          <div className=\"col-xs-6 text-left\">\r\n\t\t\t\t\t\t    <button type=\"button\"  className=\"btn btn-sm btn-default\" data-dismiss=\"modal\"><font><font>{\"  Ні  \"}</font></font></button>\r\n \t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"col-xs-6 text-right\">\t\t                   \r\n                            <button type=\"button\" onClick={this.itemStatusChangeQuery}  className=\"btn btn-sm btn-primary\"><font><font>{\"  Так  \"}</font></font></button>\r\n                          </div>\r\n                    </div>\t\t\t\t\t\t \r\n\t\t               )\r\n\t\t    if (this.answerState)\r\n\t\t\t{\r\n\t\t\t   buttons=(<div className=\"col-xs-12 text-right\">\r\n\t\t\t              <button type=\"button\" onClick={this.unMount} className=\"btn btn-sm btn-default\" data-dismiss=\"modal\"><font><font>Вийти</font></font></button>\t\t\t\t\t\t  \r\n\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t )\r\n\t\t\t}\t\t\t\t\r\n\t\t  \r\n\t\t  return (\r\n                       <div className=\"modal-dialog\">                     \r\n                         <div className=\"modal-content\">\r\n                           <div className=\"modal-header text-center\">\r\n                              <h2 className=\"modal-title\"><i className=\"fa fa-pencil\"></i><font><font>Запит на відмову від позиції.</font></font></h2>\r\n                           </div>\r\n                           <div className=\"modal-body\">\r\n                             <fieldset>\r\n                                <legend><font><font>{this.queryText}</font></font></legend>\r\n                             </fieldset>\r\n                              <div className=\"form-group form-actions\">\r\n                                \r\n\t\t\t\t\t\t\t\t {buttons}\r\n\t\t\t\t\t\t\t\t                          \r\n                               </div>\r\n                             </div>    \r\n                          <div className=\"modal-footer\">\r\n                          </div>\r\n                    \r\n                        \r\n                      </div>\r\n                      </div> \r\n\t\t )\r\n\t }\r\n\t\r\n}\r\n"],"sourceRoot":""}
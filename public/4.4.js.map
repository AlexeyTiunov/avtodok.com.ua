{"version":3,"sources":["webpack:///./app/auth.js"],"names":["ReactDOM","require","React","Auth","request","Prom","authRequest","Number","UserLoginCookie","authComp","isAuthed","updateAll","renderIn","Extends","Auth_done","Uobject","window","Auth_need","e","input","id","inputValue","str","regStatus","Register_need","IncorrectPassword","IncorrectLogin","Success","UserID","register","handleAnswer","handleData","capture_sid","phoneNumber","phoneMod","shortFoneNumber"],"mappings":"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","file":"4.4.js","sourcesContent":["var ReactDOM = require('react-dom');\nvar React = require('react');\nimport {Extends} from './main_component.js' \nimport {handleData} from './data_convert.js'\n\n\n\nexport class Auth extends Extends\n{\n     constructor(props)\n    {\n        super(props);\n        \n        \n        this.state.renderIn=\"\";\n        this.state.isAuthed=false;\n        \n    }  \n    auth(request)\n    { \n        \n         var Prom=this.makeRequestToRecieveDataAsyncNewObject(\"POST\",\"/ws/auth.php\",request)\n\t\t \n\t\t/* var authRequest_old=function(responseText){              \n               if (Number(responseText)>0)               {\n                   authComp=<Auth_done />; \n                   isAuthed=true;\n               }                                       \n               else \n               {\n\t\t\t\t    var UserLoginCookie=this.getUserLoginCookie();\n\t\t\t\t\t\n\t\t\t\t\tif (UserLoginCookie==\"\" || UserLoginCookie==undefined)\n\t\t\t\t    authComp=<Register_need />;\t\t\n                    else\n\t\t\t\t\tauthComp=<Auth_need />;\n\t\t\t\t\n                    isAuthed=false;\n               }\n\t\t\t   var updateAll=this.updateAll.bind(this);\n               this.setState({renderIn:React.createElement(authComp.type),\n                                      isAuthed:isAuthed\n                                     },updateAll);\n             \n         }.bind(this)*/\n\t\t var authRequest=function(responseText){\n\t\t\t if (Number(responseText)>0)\n\t\t\t {\n\t\t\t\t this.auth_done();\n\t\t\t }else\n\t\t\t {\n\t\t\t\t  var UserLoginCookie=this.getUserLoginCookie();\n\t\t\t\t if (UserLoginCookie==\"\" || UserLoginCookie==undefined)\n\t\t\t\t   this.auth_registerNeed();\n\t\t\t     else\n\t\t\t       this.auth_authNeed();\n\t\t\t }\n              this.updateRegions();\n\t\t }.bind(this)\n         Prom.then(authRequest)\n         \n    }\n\tauth_authNeed()\n\t{\n\t\tvar authComp=<Auth_need />;\n\t\tisAuthed=false;\n\t\tvar updateAll=this.updateAll.bind(this);\n\t\tthis.setState({renderIn:React.createElement(authComp.type),\n                                      isAuthed:isAuthed\n                                     },updateAll);\n\t     \n\t}\n\tauth_registerNeed()\n\t{\n\t\t var authComp=<Register_need />;\n\t\tisAuthed=false;\n\t\tvar updateAll=this.updateAll.bind(this);\n\t\tthis.setState({renderIn:React.createElement(authComp.type),\n                                      isAuthed:isAuthed\n                                     },updateAll);\n\t\t\n\t}\n\tauth_done()\n\t{\n\t\tauthComp=<Auth_done />; \n                   isAuthed=true;\n\t\tvar updateAll=this.updateAll.bind(this);\n\t\tthis.setState({renderIn:React.createElement(authComp.type),\n              isAuthed:isAuthed\n               },updateAll);\n\t}\n    autoAuth()\n    {\n      this.auth(\"AUTO_AUTH=Y&CHECK_AUTH=Y\"); \n    }\n    \n    isAuthed()\n    {\n        \n      this.auth(\"CHECK_AUTH=Y\");  \n        \n    }\n     logOut()\n    {\n        this.auth(\"LOG_OUT=Y\");  \n    }\n   \n    /////////////////////////////\n     componentDidMount()\n     {\n        super.componentDidMount(); \n       this.autoAuth(); \n     }  \n    render(){ \n                 return ( <div id=\"modal-user-auth\" className=\"modal fade\"  role=\"dialog\">\n                         \n                             {this.state.renderIn} \n                                   \n                           </div> \n                      )\n            } \n    \n}   \nexport class Auth_done extends Extends      \n{\n     constructor(props)\n    {\n        super(props);\n        this.logOut=this.logOut.bind(this);\n        \n    }\n    \n    logOut()\n    {\n          Uobject=window.objectReg[\"Auth\"];\n          Uobject.auth(\"LOG_OUT=Y\");  \n    }\n      \n    ///////////////////////////////////\n    componentDidMount()\n    {\n       // this.updateAll();\n    }\n    \n    render(){\n        \n              return (\n                       <div className=\"modal-dialog\">                     \n                         <div className=\"modal-content\">\n                           <div className=\"modal-header text-center\">\n                              <h2 className=\"modal-title\"><i className=\"fa fa-pencil\"></i><font><font> Авторизація</font></font></h2>\n                           </div>\n                           <div className=\"modal-body\">\n                             <fieldset>\n                                <legend><font><font>Авторизація виконано успішно!</font></font></legend>\n                             </fieldset>\n                              <div className=\"form-group form-actions\">\n                                <div className=\"col-xs-12 text-right\">\n                                    <button type=\"button\"  className=\"btn btn-sm btn-default\" data-dismiss=\"modal\"><font><font>Продовжити роботу</font></font></button>\n                                    <button type=\"button\" onClick={this.logOut}  className=\"btn btn-sm btn-primary\"><font><font>Вийти з акаунту</font></font></button>\n                                 </div>                           \n                               </div>\n                             </div>    \n                          <div className=\"modal-footer\">\n                          </div>\n                    \n                        \n                      </div>\n                      </div> \n               \n               \n               \n                      )\n        \n        \n            }\n    \n}\nexport class Auth_need extends Extends\n{\n    constructor(props)\n    {\n        super(props);\n        this.onInputChange=this.onInputChange.bind(this);\n        this.state.USER_LOGIN=\"\";\n        this.state.USER_PASSWORD=\"\";\n\t\t this.state.regStatus=\"Авторизація\";\n        \n        this.auth=this.auth.bind(this);\n        this.onInputChange=this.onInputChange.bind(this);\n    }\n    \n    auth()\n    {\n      Uobject=window.objectReg[\"Auth\"];\n      Uobject.auth(\"USER_LOGIN=\"+this.state.USER_LOGIN+\"&USER_PASSWORD=\"+this.state.USER_PASSWORD+\"&CHECK_AUTH=Y\");   \n        \n    }\n    registerNeed()\n\t{\n\t\tUobject=window.objectReg[\"Auth\"];\n\t\t Uobject.auth_registerNeed();\n\t}\n    \n    onInputChange(e)\n    {\n         var input= e.target.name\n         var id = e.target.id;\n         var inputValue=e.target.value;\n         this.state[input]=inputValue;\n         this.state[id]=inputValue;\n\t\t\n         if  (this.state[input]==\"\")\n         {\n             delete this.state[input];\n         }\n         var str= `${id}` ;\n         this.setState({ str:inputValue});\n        \n    }\n    /////////////////////////////////////////\n\tcomponentDidUpdate()\n\t{\n\t\t//this.updateAll();\n\t}\n     componentDidMount()\n    {\n       // this.updateAll();\n    } \n    render()\n    {\n        return (\n                   <div className=\"modal-dialog\">\n                      <div className=\"modal-content\">    \n                        <div className=\"modal-header text-center\">\n                          <h2 className=\"modal-title\"><i className=\"fa fa-pencil\"></i><font><font> Авторизація</font></font></h2>\n                        </div>\n                       <div className=\"modal-body\">\n                        <form action=\"index.html\" method=\"post\" enctype=\"multipart/form-data\" className=\"form-horizontal form-bordered\" onsubmit=\"return false;\">\n                            \n                          <fieldset>\n                                <legend>\n\t\t\t\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t  <div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t    <p align=\"center\" ><font>{this.state.regStatus}</font></p>\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t  <div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t  <p align=\"center\" ><font><a onClick={this.registerNeed}>В мене немає логіна.</a></font></p>\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</legend>\n                                <div className=\"form-group\">\n                                    <label className=\"col-md-4 control-label\" for=\"user-settings-password\"><font><font>Логин</font></font></label>\n                                    <div className=\"col-md-8\">\n                                        <input type=\"text\" onChange={this.onInputChange} id=\"user-settings-login\" name=\"USER_LOGIN\" className=\"form-control\" placeholder=\"Введіть Ваш логин...\" />\n                                    </div>\n                                </div>\n                                 <div className=\"form-group\">\n                                    <label className=\"col-md-4 control-label\" for=\"user-settings-password\"><font><font>Ваш пароль</font></font></label>\n                                    <div className=\"col-md-8\">\n                                        <input type=\"password\" onChange={this.onInputChange} id=\"user-settings-password\" name=\"USER_PASSWORD\" className=\"form-control\" placeholder=\"Введіть Ваш новий пароль...\"/>\n                                    </div>\n                                </div>\n        \n                        </fieldset>   \n         \n                         <div className=\"form-group form-actions\">\n                                <div className=\"col-xs-12 text-right\">\n                                    <button type=\"button\"  className=\"btn btn-sm btn-default\" data-dismiss=\"modal\"><font><font>Відміна</font></font></button>\n                                    <button type=\"button\" onClick={this.auth}  className=\"btn btn-sm btn-primary\"><font><font>Авторизация</font></font></button>\n                                </div>\n                         </div>\n                       </form>\n                    </div>\n                 </div>  \n              </div>               \n             \n              \n              )\n    }\n     \n    \n    \n}\nexport class Register_need extends Extends\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.onInputChange=this.onInputChange.bind(this);\n\t\tthis.state.capture_sid=\"\";\n\t\tthis.state.regStatus=\"Регістрація\";\n\t\tthis.getRegister=this.getRegister.bind(this);\n\t\tthis.authNeed=this.authNeed.bind(this);\n\t\tthis.regStatusInfo=\n\t\t{\n\t\t\tIncorrectPassword:[\"\",\"\"],\n\t\t\tIncorrectLogin:[\"\",\"\"],\n\t\t\tSuccess:[\"\"],\n\t\t\tUserID:[\"\"],\n\t\t};\n\t}\n\tcheckAuth()\n\t{\n\t\t Uobject=window.objectReg[\"Auth\"];\n\t\t Uobject.isAuthed();\n\t}\n\tauthNeed()\n\t{\n\t\t\n\t\t Uobject=window.objectReg[\"Auth\"];\n\t\t Uobject.auth_authNeed();\n\t}\n\tgetRegister()\n\t{\n\t\tvar Prom=this.makeRequestToRecieveData(\"POST\",\"/ws/register.php\",false,this.makePostDataFromState());\n\t\t\n\t\tvar register=function(responseText)\n\t\t{\n\t\t\t handleAnswer= new  handleData(responseText);\n\t\t\t var IncorrectPassword=handleAnswer.mapArray.IncorrectPassword;\n\t\t\t var IncorrectLogin=handleAnswer.mapArray.IncorrectLogin;\n\t\t\t var UserID=handleAnswer.mapArray.UserID;\n\t\t\t if (Number(UserID)>0)\n\t\t\t {\n\t\t\t\t this.checkAuth();\n\t\t\t }else{\n\t\t\t\t this.getCaptureSid();\n\t\t\t }\n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t  \n\t\t}\n\t\tregister=register.bind(this);\n\t\tProm.then(register);\n\t}\n\tgetCaptureSid()\n\t{\n\t\t var Prom=this.makeRequestToRecieveData(\"POST\",\"/ws/register.php\",false,\"getCaptchaSid=Y\")\n\t\t \n\t\t var capture_sid=function(sid)\n\t\t {\n\t\t\t this.setState({capture_sid:sid});\n\t\t }\n\t\t capture_sid=capture_sid.bind(this);\n\t\t Prom.then(capture_sid);\n\t\t \n\t}\n\t\n\tonInputChange(e)\n    {\n\t\tif (e.target.name==\"LOGIN\")this.checkInput(e);\n         var input= e.target.name\n         var id = e.target.id;\n         var inputValue=e.target.value;\n         this.state[input]=inputValue;\n         this.state[id]=inputValue;\n         if  (this.state[input]==\"\")\n         {\n             delete this.state[input];\n         }\n         var str= `${id}` ;\n         this.setState({ str:inputValue});\n        \n    }\n\tcheckInput(e)\n\t{\n\t\tvar phoneNumber=e.target.value;\n\t\tif (phoneNumber!=\"\")\n       {\n         if (phoneNumber.match(/^.*[\\+\\-\\D]+/)) \n         {\n            phoneMod= phoneNumber.replace(/[\\+\\-\\D]/g,''); \n           e.target.value=phoneMod;\n           return;\n         } \n\t\t if  (!phoneNumber.match(/^(38)([0-9]*)/g ) && !phoneNumber.match(/^(3)([0-9]*)/g ) )\n         {\n           phoneMod=\"38\"+phoneNumber;\n          \n          phoneMod= phoneMod.replace(/[\\+\\-\\D]+/g,''); \n           e.target.value=phoneMod;\n         }\n\t\t\n\t   }\n\t   if (phoneNumber.match(/^(39)([0-9]*)/g ) ||\n           phoneNumber.match(/^(37)([0-9]*)/g )  ||\n           phoneNumber.match(/^(34)([0-9]*)/g ) ||\n           phoneNumber.match(/^(35)([0-9]*)/g ) ||\n           phoneNumber.match(/^(36)([0-9]*)/g )\n       \n       )\n       {\n         shortFoneNumber=phoneNumber.replace(/^(38|39|36|35|34|37)([0-9]*)/g,'38$2'); \n         shortFoneNumber= shortFoneNumber.replace(/[\\+\\-\\D]+/g,'');\n         e.target.value=shortFoneNumber; \n        // alert(shortFoneNumber);  \n       }\n\t}\n\t\n\t\n\t///////////////////////////////////////////////////////\n\t\n\tcomponentDidMount()\n\t{\n\t\tsuper.componentDidMount();\n\t\tthis.getCaptureSid();\n\t}\n\trender()\n\t{\n\t\treturn (\n                   <div className=\"modal-dialog\">\n                      <div className=\"modal-content\">    \n                        <div className=\"modal-header text-center\">\n                          <h2 className=\"modal-title\"><i className=\"fa fa-pencil\"></i><font><font> Регістрація</font></font></h2>\n                        </div>\n                       <div className=\"modal-body\">\n                        <form action=\"index.html\" method=\"post\" enctype=\"multipart/form-data\" className=\"form-horizontal form-bordered\" onsubmit=\"return false;\">\n                            \n                          <fieldset>\n                                <legend>\n\t\t\t\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t  <div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t    <p align=\"center\" ><font>{this.state.regStatus}</font></p>\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t  <div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t  <p align=\"center\" ><font><a onClick={this.authNeed}>В мене вже є логін.</a></font></p>\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</legend>\n                                <div className=\"form-group\">\n                                    <label className=\"col-md-4 control-label\" for=\"user-settings-password\"><font><font>Логін(моб. номер)</font></font></label>\n                                    <div className=\"col-md-8\">\n                                        <input type=\"text\" onChange ={this.onInputChange} id=\"login\" name=\"LOGIN\" className=\"form-control\" placeholder=\"Введіть Ваш логин...\"/>\n                                    </div>\n                                </div>\n                                 <div className=\"form-group\">\n                                    <label className=\"col-md-4 control-label\" for=\"user-settings-password\"><font><font>Новий пароль</font></font></label>\n                                    <div className=\"col-md-8\">\n                                        <input type=\"password\" onChange={this.onInputChange} id=\"password\" name=\"PASSWORD\" className=\"form-control\" placeholder=\"Введіть Ваш новий пароль...\"/>\n                                    </div>\n                                </div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n                                    <label className=\"col-md-4 control-label\" for=\"user-settings-password\"><font><font>Підтвердження паролю</font></font></label>\n                                    <div className=\"col-md-8\">\n                                        <input type=\"password\" onChange={this.onInputChange} id=\"password_confirm\" name=\"PASSWORD_CONFIRM\" className=\"form-control\" placeholder=\"Введіть Ваш новий пароль...\"/>\n                                    </div>\n                                </div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n                                    <label className=\"col-md-2 control-label\" for=\"user-settings-password\"><font><font>Введіть слово</font></font></label>\n                                    <div className=\"col-md-4\">\n                                        <input type=\"text\" onChange={this.onInputChange} id=\"captcha_word\" name=\"CAPTCHA_WORD\" className=\"form-control\" placeholder=\"Введіть слово...\"/>\n                                    </div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4 control-label\"> \n\t\t\t\t\t\t\t\t\t    <img src={\"/bitrix/tools/captcha.php?captcha_sid=\"+this.state.capture_sid} />\n\t\t\t\t\t\t\t\t\t</div>\n                                </div>\n        \n                        </fieldset>   \n         \n                         <div className=\"form-group form-actions\">\n                                <div className=\"col-xs-12 text-right\">\n                                    <button type=\"button\"  className=\"btn btn-sm btn-default\" data-dismiss=\"modal\"><font><font>Відміна</font></font></button>\n                                    <button type=\"button\" onClick={this.getRegister}  className=\"btn btn-sm btn-primary\"><font><font>Регістрація</font></font></button>\n                                </div>\n                         </div>\n                       </form>\n                    </div>\n                 </div>  \n              </div>               \n             \n              \n              )\n\t\t\n\t\t\n\t}\n\t\n\t\n}"],"sourceRoot":""}